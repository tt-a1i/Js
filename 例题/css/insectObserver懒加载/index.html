<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>IntersectionObserver Example</title>
		<style>
			.image-container {
				height: 200px;
				margin-bottom: 50px;
			}
			.placeholder {
				background-color: #ccc;
			}
            .pos{
                width: 100vh;
                height: 200vh;
                border: yellow 2px solid;
            }
		</style>
	</head>
	<body>
        <div class="pos">

        </div>
		<div class="image-container">
			<img class="lazy-load" data-src="./进度.png" alt="Image 1" />
		</div>
		<div class="image-container">
			<img class="lazy-load" data-src="./进度.png" alt="Image 2" />
		</div>
		<div class="image-container">
			<img class="lazy-load" data-src="./进度.png" alt="Image 3" />
		</div>

		<script>
			document.addEventListener("DOMContentLoaded", () => {
				const lazyLoadImages = document.querySelectorAll(".lazy-load");

				const observer = new IntersectionObserver((entries, observer) => {
					entries.forEach((entry) => {
						if (entry.isIntersecting) {
							const img = entry.target;
							img.src = img.dataset.src;
							observer.unobserve(img);
						}
					});
				});

				lazyLoadImages.forEach((image) => {
					observer.observe(image);
				});
			});
		</script>
	</body>
</html>
